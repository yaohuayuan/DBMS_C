# NewDBMS 项目

这是一个用C语言实现的简单数据库管理系统（DBMS），包含了数据库系统的核心组件和功能。

## 项目结构

该项目采用模块化设计，各个组件之间相互独立，通过清晰的接口进行交互。主要模块包括：

- **.github/**: GitHub相关配置，包含CI/CD工作流
- **DBMS/**: 数据库管理系统的核心实现
- **File/**: 文件管理模块，负责数据库文件的存储和访问
- **Lib/**: 基础库模块，提供各种数据结构和工具函数
- **Log/**: 日志管理模块，负责事务日志记录和恢复
- **bin/**: 构建输出和测试运行时生成的文件
- **buffer/**: 缓冲区管理模块，负责内存缓冲区管理和页面替换策略
- **external/**: 外部依赖库，包含单元测试框架cmocka
- **index/**: 索引管理模块，负责数据库表的索引创建和查询
- **metadata/**: 元数据管理模块，负责数据库系统的元数据存储和管理
- **parse/**: SQL解析模块，负责将SQL语句解析为内部数据结构
- **plan/**: 查询计划模块，负责生成和优化SQL查询的执行计划
- **query/**: 查询执行模块，负责执行生成的查询计划并返回结果
- **record/**: 记录管理模块，负责数据库表的记录存储和访问
- **test/**: 测试模块，包含各个组件的单元测试和集成测试
- **tx/**: 事务管理模块，负责数据库系统的事务处理和并发控制

## 核心功能

1. **文件管理**：实现了数据库文件的创建、打开、关闭和删除等操作
2. **缓冲区管理**：实现了内存缓冲区的管理和LRU页面替换算法
3. **记录管理**：实现了表中记录的存储、访问和操作
4. **索引管理**：实现了哈希索引，提高查询效率
5. **事务管理**：实现了事务的ACID特性，包括并发控制和恢复机制
6. **SQL解析**：实现了SQL语句的词法分析和语法分析
7. **查询优化**：实现了查询计划的生成和优化
8. **元数据管理**：实现了表、索引、视图等元数据的管理

## 构建和运行

该项目使用CMake进行构建。在项目根目录下执行以下命令：

```bash
mkdir build
cd build
cmake ..
make
```

构建完成后，可执行文件将生成在bin目录下。

## 测试

项目包含了丰富的测试用例，使用cmocka单元测试框架。运行测试：

```bash
cd build
test/Test
```

## 技术栈

- 编程语言：C
- 构建工具：CMake
- 单元测试框架：cmocka
- 版本控制：Git

## 适用场景

该项目是一个教学型数据库管理系统，适合用于学习数据库系统的内部原理和实现。它包含了数据库系统的核心组件和功能，可以帮助理解数据库系统的工作机制。

## 扩展性

项目采用模块化设计，各个组件之间通过清晰的接口进行交互，便于扩展和修改。可以根据需要添加新的功能模块或改进现有模块。

## 许可证

该项目采用MIT许可证，详见LICENSE文件。